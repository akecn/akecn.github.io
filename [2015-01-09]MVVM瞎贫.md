## MVVM瞎贫

MVVM确实能解决很多问题，尤其是快速搭建和时间成本什么的，可不就是这么好用。

但是在维护上，我始终觉得学习成本有些过高。一些平台采用anglarjs开发，也许开发简单了，但是其实一个业务更重要的其实是维护，开发的人对这套模式足够熟悉，所以能依靠mvvm快速搭建完成需求，而当时业务方等等也会觉得靠谱。

但人是流动的，一个长久的业务不会自始至终都由同一个人维护，维护成本才是需要重点考虑的。

很多人则会说，新人接手要先学会xxx再上手维护；我们是专业的前端，这个不是问题等等。

理想是丰满的，但现实很骨感。

且不说mvvm的学习曲线如何。单就不同的人对问题的理解就是不同的，更何况有些问题都是见仁见智的。

说到这里，我不是觉得mvvm不好，而是觉得现在mvvm框架做的事情太多，反而让人难以学习。

是的，我是说学习曲线有些陡。（当然不是初级使用这个级别。。）

学习曲线陡的原因，我想来有两方面原因：
1. mvvm包含的太多
2. 接口不够直观。

当然有人要反驳了。anglarjs的示例看起来很直观很易用的，当我们写一些小东西的时候都不会觉得有什么复杂的地方。

但如果是一个足够复杂的业务呢？也许到最后会发现view层的判断逻辑超出想象多。（想想这种情况，联想一下一些老应用的vm代码，不禁心理发抖。。。）

所以写demo跟写业务还是有差别的。这点就不说了，这件事也是见仁见智。。。。

然后就是调试的问题了。相对来说，现在的mvvm在调试方面真的很麻烦。。。

前两年的时候发现了`MeteorJS`框架，号称最好用的全端框架。也简单的试用了一小段时间，非常激动。

其中印象最深刻的一点就是他们的MVVM设计。（还有就是前后端数据直连，赞的不行）

模板中几乎没有太多行为操作和事件绑定，这些还是放到了脚本中定义。

可以看 http://meteor.github.io/blaze/ 里的示例：SVG support out of the box

模板只是做了html渲染，没有anglarjs、knockoutjs等框架各种事件绑定，view还是简单的view，事件绑定处理也很简单。

可以看到全局变量 Template 包含了example3 成员。这说明我们在实际执行代码的时候，相关的一些逻辑已经预编译到Template这个对象中了。所以我们只需要定义模板中需要的方法、数据和事件就可以了。也不需要考虑如何回写数据到模板。

相比起来我觉得这种设计更容易理解、使用和维护。

当然，blaze集成在meteor框架中，貌似没有单独抽取出来（虽然是一个单独的子项目了，但是看代码，还是用到了Package等等全局变量，这些都是通过meteor框架生成输出到浏览器端的）。

但从代码上，至少有几点可以参考：
1. 将事件绑定等操作逻辑从view抽离放到脚本里更易于使用（至少我是这么觉得的）
2. 实现上，可以将预编译和运行时分离。预编译解析模板和绑定。在实际调用时会更省资源吧~

mvvm其实可以只做很少的事情就够了。

### 关于表单操作。
mvvm应用到表单操作上确实有独到之处。在我看来，一个大大的mvvm框架，有一大半都是为了解决表单的处理。

如果mvvm不内置这些东西，然后事件绑定是自己绑定的，那确实不大方便，所以表单处理可能还是要单独封装一下。。